package com.a3.learnings.models;

import java.util.*;

import com.a3.learnings.models.Theater.Seat;

public class Theater1 {
	
	private String name;
	private List<Seat> seats = new ArrayList<>();
	
	
	
	
	public Theater1(String name, int numRows, int seatsPerRow) {
		super();
		this.name = name;
		int lastRow = 'A' + (numRows-1);
		for(char row = 'A'; row<=lastRow; row++) {
			for(int seatNum=1;seatNum<=seatsPerRow;seatNum++) {
				
				Seat seat = new Seat(row+String.format("%02d", seatNum));
				seats.add(seat);
			}
		}
	}

	public boolean reserveSeat(Seat seatNumber) {
		
		Seat requestedSeat = null;
		for(Seat seat : seats) {
			
			if(seat.getSeatNumber().equals(seatNumber)) {
				requestedSeat = seat;
				break;
			}
		}
		
		if(requestedSeat == null) {
			System.out.println(" There is no seat with number -"+seatNumber);
			
			return false;
		}
		
		return requestedSeat.reserve();
		
	}
	
	public List<Seat> getSeats(){
		return seats;
		
	}
	
		private class Seat{
			
			private final String seatNumber;
			private boolean reserved = false;
			
			
			public Seat(String seatNumber) {
				super();
				this.seatNumber = seatNumber;
			}
			
			

			public String getSeatNumber() {
				return seatNumber;
			}



			public boolean reserve() {
				
				if(!this.reserved) {
					reserved = true;
					return true;
				}
				else {
					return false;
				}
				
			}
			
			public boolean cancel() {
				
				if(this.reserved) {
					this.reserved = false;
					return true;
					
				}
				else {
					return false;
				}
				
			}
			
		}

}
